# -01 Webシステムのセキュリティ 
## output
    情報セキュリティの3要素。機密性（Confidentiality）、完全性（Integrity）、可用性（Availability）。
    情報のCIA．第三者にアクセスさせない、情報が破損・改ざん・消去されてない状態を確保、情報へのアクセスがいつでもできる

    リスク・脅威・脆弱性。
    リスクによる損失の度合いを算出し、優先順位を決めて対策を行う。重要。
    対策として、低減（脅威発生の可能性を下げる）、保有(リスクを受容）、回避（リスク発生の可能性をなくす）、移転（保険などによって他社にリスクを移す） 
    などがある

# -02 パスワードクラッキング、Dos攻撃
## output
    パスワードクラッキング
    辞書攻撃: よくパスワードに使われる単語をまとめた辞書（ファイル）を用意してログインを次々に試す。
    ブルートフォース攻撃: 文字の全組み合わせを虱潰しに試す。
    かんたんなパスワードや短いものはNGにするような作りが重要

    Dos(Denial of Service)攻撃
    短時間にサーバが処理しきれない大量のアクセスを行うことでサービス停止に陥らせる攻撃。
    Webサービスに置いてはSYN Flood 攻撃やF5攻撃が主な手段。

    SYN Flood: TCPのやり取りにおけるSYNパケットだけを大量に送りつけ、サーバを接続待ち状態にさせることで、別のユーザーから新しい接続が確立できないようにする攻撃

    F5: 繰り返しアクセスし続けることでリクエストへの反応ができないレベルまでWebサーバの負荷を高める

# -03 Webシステムの特徴を利用した攻撃
## output
    セッションハイジャック
    CookieやセッションIDを取得して悪用される
    ・通信の暗号化
    ・IPアドレス制限
    などで対策

    ディレクトリラバーサル
    Webで公開されていないディレクトリにアクセスすることでサーバ自体のID／PWを取得し、悪用する
    ・URLのチェックを行い公開していないファイル指定の場合は弾くなど

# -04 Webアプリケーションの脆弱性を狙う攻撃
## output
    XSS（クロスサイトスクリプティング：Cross Site Scripting）
    リンククリックで発動。Webページを介してスクリプトがユーザーのブラウザに送り込まれ、クライアントサイド・スクリプトとして実行されてしまう。
    Cookie公開やウイルスなど。

    CSRF（クロスサイトリクエストフォージェリ：Cross Site Request Forgeries）
    ログインが必要なサイトに対して操作を行うリンクにユーザがアクセスして被害を受ける攻撃。
    本人になりすましてログインの必要なサイトを操作することが目的。事前にSNSにログインしていたりするとその情報を取られてSNSに勝手に投稿したりPWを変更したりする

    SQLインジェクション
    ログイン画面や検索画面にDBが解釈できる内容を混ぜ込むことで意図しない動作を行わせる攻撃。

# -05 Webシステムの脆弱性
## output
    セキュリティホール
    脆弱性情報データベースで管理・一般公開されている
    ソフトウェア製品の欠陥により、権限がないと本来できないはずの操作が権限を持たないユーザで実行できたり、見えるべきでない情報が第三者に見えてしまうような不具合
    修正プログラムを配布。

    ゼロデイ攻撃
    セキュリティホールに対する修正プログラムが開発される前に、セキュリティホールを利用した攻撃を仕掛けること。対策が難しい。
    対応が早い製品を選定することが対策の1つ。

# -06 ファイアーウォール
## output
    サービスに必要な通信だけを許可し、それ以外の通信を拒否すること
    インターネットと内部ネットワークの間に設置し、送受信されるデータを監視、通信の可否を行う。

    いくつか種類ある。
    最も広く使われているものはパケットフィルタ型。
    ・送受信されるパケットのIPとポート番号をチェックし、通信の可否判断。
    ・利用しないIP、ポートを遮断
    ・許可したポートへの攻撃は別途対策が必要
    ・内部からインターネット向け通信も遮断できる（ウイルスを外に出さない）
    

# -07 IDS、IPS
## output
    ファイアーウォールで防ぎきれない攻撃を防ぐ手段の一つ。
    IDS(Intrusion Detection System)
    IPS(Intrusion Prevention System)
    どちらも通信を監視するネットワーク型、サーバ上のユーザの動きを監視するホスト型がある。
    
    IDSは不正アクセスに対して通信自体は通し、管理者にメールを送るなど通知のみを行う。
    ・可用性がある
    ・通信そのまま通すので、危険度は高い
    
    IPSは不正アクセスが来たら即座に遮断する。通知も行う。
    ・機密性、完全性を重視している

    シグネチャ型（不正検知型）
    既知の攻撃手法における通信パターンが登録されたデータベースのこと。監視対象通信とシグネチャを比較し、一致したら不正アクセスとみなす。
    ・SYN Flood攻撃

    アノマリー型（異常検知型）
    通常発生しない、普段と違う通信を不正アクセスとみなす検知方法
    ・F5攻撃

# -08 WAF
## output
    IDS,IPSでは通信の中身をチェックしない。のでXXSやSQLインジェクションは防ぐことができない。

    アプリケーション側で対応 => WAF(Web Application Firewall)
    やり取りされるパケットの中身をみてチェックする。高機能でセキュリティ効果も高いが機器も高価、運用にもコストかかる

    ブラックリスト型
    IDSのシグネチャ型と同じ様に通信をブラックリストと比較して遮断
    ※WAF開発元から提供される。更新されないと対応不可

    ホワイトリスト型
    正常パターンを登録し、それ以外を弾く。
    正確なホワイトリストの作成には知識が必要。手間もかかる。

# -09 暗号化
## output
    通信経路での暗号化
    経路を暗号化しておくと盗聴が成功しても被害が出ない。HTTPSが使われる

    保存データの暗号化
    アプリケーションがデータを保存する際に、サーバ内で暗号化する。使用する際は復号してから利用
    
    パスワードのように、「復号しなくても正しいかどうか比較に利用できればよいもの」はハッシュ化して保存するのもあり。
    
    ハッシュ化: ハッシュ関数という計算式で任意の文字列を固定長の文字列（ハッシュ値）に変換すること。同じハッシュ値を生成することは難しい。また元の文字列を割り出すことも非常に困難。

# -10 公開鍵証明書
## output
    SSL証明書。役割2つ。
    ・HTTPS通信に使うための公開鍵の持ち主は誰かを証明すること
    ・公開鍵の持ち主が実在することを証明すること（実在証明）
    
    認証局と呼ばれる第三者機関から発行され、その認証局を信頼するユーザー全員から信頼される。


    自己証明書（オレオレ証明書）
    自分を認証局とした公開鍵証明書を作成可能。
    試験で使う。ネットで公開しても一般ユーザーからは信用されず限られた用途にしか使うことはできない。信頼できる認証局が発行したものじゃないよーという警告はでるが、暗号化通信は可能
    認証局自信の証明書はルート証明書という。


# -11 認証
## output
    本人確認処理。通常はサイト独自で実装するものだったが、個人情報管理の負担が大きかった。
    GoogleやSNSのアカウントを利用して、認証代行を行う技術が開発された。それには認証APIが使われる

    認証API
    認証を行うWebアプリケーションが認証APIに誘導（？）し、認証APIからの認証結果通知をもらうことでユーザのログイン情報を扱うことなく認証処理を行える
    認証APIを提供するサイトにアカウントがある必要がある！各社毎にAPIの仕様は統一されていない！

    OpenID
    認証処理を標準化したプロトコル。複数の企業が提供する認証サービスを同じ手順で利用可能。



# -12 認可
## output
    認証によって確認した結果により、ユーザごとに権限にしたがって利用できるサービス許可を行うこと
    
    例：TWで、taroというアカウントが認証されたとき、taro名義の投稿は編集/閲覧許可、その他のアカウントの投稿については閲覧のみ許可する、ということが認可。

    FBに投稿したものをTWにも投稿、などはサイトをまたいだ認可が必要

    OAuth:
    サイトをまたいだ認可を実現するために標準化されたプロトコル。機能は認可のみ。認証は行わない。
    ・利用したいサービスはリソース
    ・サービスを提供するサーバがリソースサーバ
    ・そのユーザがリソースオーナー
    ・認可を受けてリソースを利用するサイトやアプリをクライアント

    クライアントがリソースオーナーに許可要求
    リソースオーナ許可
    クライアントがリソースサーバにトークン要求
    リソースサーバがトークン発行
    クライアントがトークンを提示しリソースでサービス利用

    という流れ


    OpenID Connect:
    OAuth2.0をベースに認証機能が追加されたプロトコル。認証機能と許可機能が実現できる。
    [参考](https://qiita.com/TakahikoKawasaki/items/498ca08bbfcc341691fe)


# -13 CAPTCHA
## output
    Completely Automated Public Turing Test To Tell Computers and Humans Apart
    長い！CAPTCHA

    コンピュータと人間を区別するテスト
    Google reCAPTCHA が有名だけど他にもあるんかな
    i-FILTERとかは独自の製品にCAPTCHA利用しているようだ
