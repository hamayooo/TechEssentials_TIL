# -01 Webアプリケーションの3層構造
## output
    3層アーキテクチャ。1.プレゼンテーション層（UI）、2.アプリケーション層（業務処理）、3.データ層（データ処理や保管）

    1. WebブラウザとWebサーバ：クライアントサイド・スクリプト
    2. APサーバプログラム：サーバサイド・スクリプト
    3. DBサーバプログラム

    それぞれ各層ごとにサーバー機器を分ける。単一サーバにも載せられるが負荷が高くなってしまう。また各層ごとに分かれていることで改修範囲を限定させることができる

# -02 MVCモデル
## output
    上記の他に、MVCモデルがある。
    Model アプリケーションの扱うデータと業務処理
    View ユーザへの出力処理
    Controller 必要な処理をModelやViewに伝える

    3層アーキテクチャはWebシステム全体の設計方針であり、MVCはサーバ・クライアントスクリプトの設計方針なので対象範囲が違う。

    所管:
    「このプロジェクトはMVCモデルでやるぞ」など宣言することはなく、自然とこうなっている気がする。
    バックエンド側と詰めて議論したことはないが、やってくれていたんだな、と思うと感謝しかない。
    wordpressでもWebサーバ内にPHPとかサーバサイドのスクリプトを配置していたりするから、APサーバというのを用意したことないかも。
    APサーバは自前でやることもあるし、いろいろとAPIを提供しているサーバに接続する、という意味もあるかな。

# -03 フレームワーク
## output
    処理の流れのひな形。
    JavaEE, Struts, Spring Boot, Cake PHP, Ruby on Railsなど

    言語を覚えた先の便利なもの、というイメージ。
    先にフレームワークを学ぼうと思っても難しい。

# -04 Webサーバー
## output
    一般的に複数台のサーバで冗長化構成を取る。
    Webサーバの仕事は静的ページのデータやAPサーバから転送された動的ページのデータをWebクライアントに転送すること。
    複数台の機器でWebサーバが動作しているときは、同期処理などを行う方法を考える必要がある。

# -05 Webクライアント
## output
    Webシステムを利用するためのプログラム。
    最も利用されているものがWebブラウザ。
    専用クライアント（アプリ）、Webアプリケーションに特化した機能（表示の最適化、ログイン情報管理など）をもたせる場合もある。フィードリーダもその一種。
    Webブラウザでは最大公約数的な作りになってしまう、アプリでは表示や処理を最適化し、よりよい使い勝手を提供する

# -06 アプリケーションサーバー
## output
    APサーバ。
    Webサーバからの動的処理の依頼を受け、データの加工やサーバサイドスクリプトの実行を行ったり、DBサーバにアクセスしたりする。
    3層アーキテクチャにおける最も多機能なサーバ。負荷は高くなる。
    
    セッション管理機能
    クライアントごとに発行したIDを通信データに含まれることで、同じクライアントからの通信を1つのセッションで判別し、ログイン状況などを把握する。
    セッションIDで同じクライアントからの通信を判別し、1つのセッションとして管理する。セッションIDの発行をする

    トランザクション管理機能
    セッションの最小単位。予約手続きのようにすべてのやり取りが成功するまで完了しない処理は、1角リクエスト・レスポンス単位ではなく、トランザクション単位で管理する。


# -07 データベース管理システム
## output
    Database Management System(DBMS)。これを搭載したサーバをDBサーバという
    
    冗長化構成
    ミラーリング
      データの更新命令を受けたDBMSがミラーリングのDBMSに更新命令を転送する。複数のDBに対して同時に同じ更新を行う。タイミングは即時行う

    レプリケーション
      マスタDBMSがスレーブDBMSに更新履歴を送る。スレーブDBMSは更新履歴を受け取り、スレーブのDBの更新を任意のタイミングで行う。

    シェアードディスク
      データベースを共用の機器（ストレージ）に持ち、複数のDBサーバ（DBMS）からそれを更新します。DBサーバのみの冗長化なので、ストレージには耐障害性の強い機器を採用する

# -08 キャッシュサーバー
## output
    「リクエストに対するレスポンスを覚えておく」キャッシュサーバというプログラム。
    コンテンツキャッシュ：文書や画像、動画などのキャッシュ
    クエリキャッシュ：DBMSのデータ検索要求の結果のキャッシュ

    WebブラウザとWebサーバの間にコンテンツキャッシュサーバを用意し、リクエストとレスポンスの組合せを記憶しておく。Webサーバの代わりにレスんポンスを返す。

    APサーバとDBサーバの間にクエリキャッシュサーバを用意し、APからの検索要求とDBMSのレスポンスの組み合わせを記憶しておく。DBMSの代わりにレスポンスを返す。記憶していないクエリの場合はDBMSに転送

    CDN（Contents Delivery Network）
    キャッシュサーバの集合体。世界各地に分散。CDN全体で1台のコンテンツキャッシュサーバのように機能する
    ※Akamai Technologies

# -09 Ajax
## output
    JavaScriptが直接Webサーバと通信を行い、取得したデータを用いてHTMLを更新する。
    データのやり取りにはXMLが用いられ、JSはDOMを使ってXMLやHTMLを操作する。HTMLそのものではなく更新に必要なデータのみをやりとりする。
    非同期通信。Webサーバからレスポンスを待つ間もJSがレスポンスに左右されない箇所のHTMLを更新・ユーザからの入力を受け付けることができる。



# -10 Webプログラミング
## output
    サーバサイド・スクリプト、クライアントサイド／スクリプト
    知識や求められることが違う。
    でも両者は相互の知識を知らなくていいということではない。と思われる。
    
# -11 Web API
## output
    API: Application Program Interface
    Webを通じてプログラムが直接サービスを利用するための窓口。
    データのやり取りの方法
    XML-RPC:XMLでやりとり
    SOAP:XML-RPCの拡張。最近減少
    REST:シンプル設計、JSONも扱える軽さ。現在の主流

# -12 マッシュアップ
## output
    WebAP
    Iを利用することで、ユーザを介さずにサービス利用ができるようになった。複数のWebサービスを組み合わせて新たなWebサービスを生み出すこと。
    各サービスの強みを利用。地図、Amazonなど。
    APIの公開終了にともなってサービスが停止することもあったり、仕様変更などがあったりとマッシュアップだけで生み出されたサービスは元のサービスのおかげで成り立っている。

# -13 CGI
## output
    Webサーバがクライアントからの要求に応じてサーバサイドスクリプトを起動するための仕組み。
    言語はWebサーバ上で実行可能であれば何でもOK.
    APサーバを用意しなくてもWebサーバ上でサーバーサイドスクリプトを実行できる。
    コマンドライン引数渡し、パス渡し（変数PATH_INFOからデータ取得）、GET（QUERY_STRINGからデータ取得）、POSTなどの渡し方がある。

# -14 サーバ間の連携
## output
    クライアントとサーバという関係。
    CGIを利用せずにサーバサイドスクリプトを動作させるには、WebサーバがAPサーバにデータ処理依頼、APサーバがスクリプトを動作、という流れ。
    サーバ同士の通信はTCP/IP。

    APサーバで利用するプロトコルはHTTPの他AJP，WebSocketなどがある。
    DBMSはそれぞれ独自のプロトコルが採用されている。APサーバが全てに対応できないので、AP−DBMS間ではODBC（Open Database Connectivity）というAPIが開発されている。
